<div class="container d-flex justify-content-center">
  <div class="search-bar bg-white rounded-pill shadow-sm d-flex align-items-center p-2 w-100">
    <input
      type="text"
      class="form-control border-0 rounded-pill"
      placeholder="Search Query..."
      [(ngModel)]="searchQuery"
      (keydown.enter)="onSearch()"
    />
    <button class="btn btn-link search-icon" (click)="onSearch()">
      <i class="fas fa-search"></i>
    </button>
  </div>
</div>

<!-- Loader -->
<div *ngIf="loading" class="text-center mt-4">
  <div class="spinner-border text-primary" role="status">
    <span class="sr-only">Loading...</span>
  </div>
  <p>Fetching search results...</p>
</div>

<!-- Generative Text Area -->
<div *ngIf="generatedText" class="generative-text">
  {{ generatedText }}
</div>
<!-- <div class="text-center mt-4">
  <button class="btn btn-primary" (click)="generateText()">Generate Text</button>
</div> -->

<!-- Search Results -->
<div *ngIf="!loading && searchResults?.result?.title" class="mt-4">
  <h4 class="text-center mb-4">Search Results:</h4>
  <div class="row d-flex justify-content-center">
    <div class="col-md-6">
      <div class="card mb-4 shadow-sm">
        <div class="card-body">
          <h5 class="card-title text-center">{{ searchResults.result.title }}</h5>
          <p class="card-subtitle text-muted text-center">{{ searchResults.result.instructor }}</p>
          <hr />
          <p><strong>Credits:</strong> {{ searchResults.result.credits }}</p>
          <p><strong>Duration:</strong> {{ searchResults.result.duration }}</p>
          <p><strong>Evaluation:</strong> {{ searchResults.result.evaluation }}</p>
          <p><strong>Frequency:</strong> {{ searchResults.result.frequency }}</p>
          <p><strong>Time:</strong> {{ searchResults.result.time }}</p>
          <p><strong>Prerequisites:</strong> {{ searchResults.result.prerequisites }}</p>
          <p><strong>Course Type:</strong> {{ searchResults.result.course_type }}</p>
          <h6 class="mt-3"><strong>Learning Objectives:</strong></h6>
          <ul>
            <li *ngFor="let objective of searchResults.result.learning_obj.split('\n')">
              {{ objective }}
            </li>
          </ul>
          <h6><strong>Course Contents:</strong></h6>
          <ul>
            <li *ngFor="let content of searchResults.result.course_contents.split('\n')">
              {{ content }}
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>


<!-- No Results Found -->
<div *ngIf="!loading && !searchResults?.results?.title" class="text-center mt-4">
  <p>No results found.</p>
</div>
